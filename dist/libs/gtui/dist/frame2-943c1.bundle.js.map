{"version":3,"sources":["webpack:///./src/custom/frame/frame2/frame.html","webpack:///./src/custom/frame/frame2/frame.js","webpack:///./src/custom/frame/frame2/img/user.png","webpack:///external \"base\"","webpack:///external \"ngs\"","webpack:///external \"ngui\""],"names":["module","exports","__webpack_require__","frameTem","frameApp","angular","GM","FrameManager","configModule","controller","$scope","$location","$gmRestful","$cookies","$gmTable","frameData","GLOBAL_FRAME_CONFIG","strPath","LayoutOper","getURLWithoutParams","absUrl","loginUrl","LOGIN_PATH","indexUrl","MAIN_PAGE_PATH","naviData","navi","naviHide","activeChildItem","threeNaviHide","fullScreen","getObject","bMenuShow","themeName","get","tabWrapper","$pGmTable","themeData","blue","name","color","class","red","third","path","STATIC_RESOURCES_PATH","theme1st","theme2nd","theme3rd","theme4th","theme5th","theme6th","theme7th","theme8th","pRestful","prepareData","addCommonApi","activeNaviFromPath","bReload","refreshPage","Util","goPath","strName","substr","pEle","CommonOper","getArrayEleByAtt","tabData","tabs","strUrl","url","strTime","Date","getTime","addURLParam","deletePage","bRt","isStrNullOrEmpty","removeItemFromArray","goHomePage","homePage","pActiveItem","getActiveChildItem","active","userImg","background","pNaviData","ii","length","oneItem","jj","children","twoItem","initNaviData","down","kk","threeItem","setTheme","strThemeName","key","$","removeClass","addClass","$on","angularEvent","newUrl","oldUrl","logout","$event","preventDefault","setNaviMode","clickParentItem","parentItem","bDown","equals","clickChildItem","childItem","goPathFromFrame","event","target","getAttribute","bActiveItem","strTabName","push","caption","templateUrl","focusTab","replace","setFullScreen","put","showMenu","changeTheme","clickTab","$watch","updateSize","strPermission","permission","hasPermission","defaultViewTabs","goPending","addToken","run","$templateCache","base","ngs","ngui"],"mappings":"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","file":"frame2-943c1.bundle.js","sourcesContent":["module.exports = \"<div ng-controller=\\\"frameCtrl\\\" class=\\\"frame2\\\">\\r\\n    <header ng-class=\\\"{'full-screen':fullScreen}\\\">\\r\\n<!-- \\t\\t<div class=\\\"notify\\\" carousel-notify notify-data=\\\"notifyData\\\" interval=\\\"3000\\\" ng-class=\\\"{'full-screen':fullScreen}\\\"></div> -->\\r\\n        <div class=\\\"header-up\\\" ng-class=\\\"{'full-screen':fullScreen}\\\">\\r\\n            <div class=\\\"system-info\\\">\\r\\n                <div class=\\\"logo\\\"><img src=\\\"{{frameData.logo}}\\\"/></div>\\r\\n                <div class=\\\"system-name\\\">\\r\\n                    <div ng-bind=\\\"frameData.systemName\\\"></div>\\r\\n                    <div ng-bind=\\\"frameData.systemEnglishName\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"tools\\\">\\r\\n                <div class=\\\"theme-option\\\">\\r\\n                    <div style=\\\"flex:1\\\"></div>\\r\\n                    <div class=\\\"dropdown\\\">\\r\\n\\t                    <div class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\\r\\n\\t                        <span class=\\\"text-nowrap\\\">更换主题</span>\\r\\n\\t                        <span class=\\\"icon icon-chevron-down\\\"></span>\\r\\n\\t                    </div>\\r\\n\\t                    <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\r\\n\\t                        <li ng-repeat=\\\"(key,value) in themeData\\\" ng-class=\\\"{'theme-choosed':key === themeName}\\\">\\r\\n\\t                        \\t<a ng-click=\\\"changeTheme(key)\\\" href=\\\"javascript:void(0);\\\" data-animation=\\\"am-flip-x\\\" data-placement=\\\"bottom\\\" data-title=\\\"{{value.name}}\\\" bs-tooltip>\\r\\n\\t\\t\\t\\t                    <div class=\\\"theme-item\\\" ng-style=\\\"{background:value.color}\\\">\\r\\n\\t\\t\\t\\t                        <i class=\\\"icon icon-check\\\" ng-if=\\\"key === themeName\\\"></i>\\r\\n\\t\\t\\t\\t                    </div>\\r\\n\\t\\t\\t\\t                    {{value.name}}\\r\\n\\t                        \\t</a>\\r\\n\\t                        </li>\\r\\n\\t                    </ul>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"user-info\\\">\\r\\n                <div class=\\\"btn-group\\\">\\r\\n                    <div class=\\\"user-img\\\">\\r\\n                        <div ng-style=\\\"userImg\\\"></div>\\r\\n                    </div>\\r\\n                    <div class=\\\"dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\\r\\n                        <span class=\\\"text-nowrap\\\">{{user.caption}}</span>\\r\\n                        <span class=\\\"icon icon-chevron-down\\\"></span>\\r\\n                    </div>\\r\\n                    <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\r\\n                        <li><a ng-click=\\\"logout($event)\\\">退出登录</a></li>\\r\\n                        <li><a ng-href=\\\"{{frameData.indexUrl}}\\\">返回主页面</a></li>\\r\\n                        <li ng-repeat=\\\"item in userOpers\\\">\\r\\n                            <a href=\\\"javascript:void(0);\\\" ng-click=\\\"{{item.click}}()\\\">\\r\\n                                {{item.caption}}\\r\\n                            </a>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"header-down\\\">\\r\\n            <div class=\\\"menu-header\\\" ng-class=\\\"{'full-screen':fullScreen}\\\" ng-click=\\\"showMenu()\\\">菜单</div>\\r\\n            <div class=\\\"tab-header\\\">\\r\\n                <div class=\\\"tool-tab\\\">\\r\\n                    <div gm-tabs ng-show=\\\"tabWrapper\\\" tabdata=\\\"tabData\\\" show-close=\\\"true\\\"></div>\\r\\n                </div>\\r\\n                <div class=\\\"tool-item\\\" data-animation=\\\"am-flip-x\\\" data-placement=\\\"bottom\\\" data-title=\\\"全屏\\\" bs-tooltip ng-click=\\\"setFullScreen()\\\">\\r\\n                    <i class=\\\"icon\\\" ng-class=\\\"{'icon-collapse-full':fullScreen,'icon-expand-full':!fullScreen}\\\"></i>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </header>\\r\\n    <div class=\\\"frame-content\\\">\\r\\n        <div class=\\\"menu scrollbar-hover\\\" ng-class=\\\"{'full-screen':fullScreen,hidden1:fullScreen && !bMenuShow}\\\">\\r\\n            <nav >\\r\\n                <div class=\\\"menu-item\\\" ng-if=\\\"frameData.homePage != null && hasPermission(frameData.homePage.permission)\\\">\\r\\n                    <div class=\\\"nav\\\" ng-class=\\\"\\\" ng-click=\\\"clickChildItem(frameData.homePage);\\\">\\r\\n                        <i ng-if=\\\"!frameData.homePage.img\\\" class=\\\"icon icon-folder-close\\\" ng-class=\\\"frameData.homePage.class\\\"></i>\\r\\n                        <img class=\\\"nav-icon\\\" ng-if=\\\"frameData.homePage.img\\\" ng-src=\\\"{{frameData.homePage.img}}\\\">\\r\\n                        <span class=\\\"title\\\" ng-bind=\\\"frameData.homePage.name\\\"></span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"menu-item\\\" ng-repeat=\\\"oneItem in naviData\\\" ng-if=\\\"hasPermission(oneItem.permission)\\\">\\r\\n                    <div class=\\\"nav\\\" ng-class=\\\"{'active':oneItem.down}\\\" data-toggle=\\\"tooltip\\\" data-placement=\\\"right\\\" data-original-title=\\\"{{oneItem.name}}\\\" ng-click=\\\"clickParentItem(oneItem);\\\">\\r\\n                        <i ng-if=\\\"!oneItem.img\\\" class=\\\"icon icon-folder-close\\\" ng-class=\\\"oneItem.class\\\"></i>\\r\\n                        <img class=\\\"nav-icon\\\" ng-if=\\\"oneItem.img\\\" ng-src=\\\"{{oneItem.img}}\\\">\\r\\n                        <span class=\\\"title\\\" ng-bind=\\\"oneItem.name\\\"></span>\\r\\n                        <span class=\\\"icon icon-chevron-down\\\" ng-class=\\\"{'click-down':oneItem.down}\\\"></span>\\r\\n                    </div>\\r\\n                    <ul class=\\\"sub-item\\\" ng-if=\\\"oneItem.children.length>0\\\" ng-class=\\\"{hidden1:!oneItem.down}\\\">\\r\\n                        <li ng-repeat=\\\"twoItem in oneItem.children\\\" ng-click=\\\"clickChildItem(twoItem)\\\" ng-if=\\\"hasPermission(twoItem.permission)\\\" ng-class=\\\"{active:twoItem.active}\\\">\\r\\n                            <div class=\\\"subitem-icon\\\">\\r\\n                                <i ng-if=\\\"!twoItem.img\\\" class=\\\"icon\\\" ng-class=\\\"twoItem.class\\\"></i>\\r\\n                                <img class=\\\"nav-icon\\\" ng-if=\\\"twoItem.img\\\" ng-src=\\\"{{twoItem.img}}\\\">\\r\\n                            </div>\\r\\n                            <div class=\\\"subitem-title text-nowrap\\\" ng-bind=\\\"twoItem.name\\\">\\r\\n                            </div>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                </div>\\r\\n            </nav>\\r\\n        </div>\\r\\n        <div class=\\\"content\\\">\\r\\n            <div id=\\\"loading-container\\\"></div>\\r\\n            <div ui-view class=\\\"view-content\\\" ng-if=\\\"!tabWrapper\\\">\\r\\n\\r\\n            </div>\\r\\n            <div class=\\\"view-content\\\" ng-if=\\\"tabWrapper\\\">\\r\\n                <div ng-repeat=\\\"item in tabData.tabs\\\" ng-include=\\\"item.url\\\" ng-show=\\\"tabData.focusTab === item.name\\\"></div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <footer>\\r\\n\\r\\n    </footer>\\r\\n    <div class=\\\"hidden\\\">\\r\\n        <button id=\\\"form_button\\\" class=\\\"hidden\\\" ng-click=\\\"goPending()\\\"></button>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/custom/frame/frame2/frame.html\n// module id = ./src/custom/frame/frame2/frame.html\n// module chunks = frame2","import 'frame';\r\nimport './frame.less';\r\nimport './theme-blue.less';\r\nimport './theme-red.less';\r\nvar frameTem = require('./frame.html');\r\n\r\n/**\r\n * @class NgModule.frame2 frame2模块\r\n * @alias frame2\r\n * @author LP\r\n */\r\nvar frameApp = angular.module('frameApp', ['ui.router', 'ngAnimate', 'gm.ngCustom.control', 'ngResource', 'ngSanitize', 'ngCookies']);\r\n\r\nGM.FrameManager.configModule(frameApp);\r\n\r\n/**\r\n * @class NgModule.frame2.frameCtrl 框架控制器\r\n * @extends NgModule.frame.frameCtrl\r\n * @author LP\r\n */\r\nframeApp.controller('frameCtrl', ['$scope', '$location', '$gmRestful', '$cookies', '$gmTable', function($scope, $location, $gmRestful, $cookies, $gmTable) {\r\n    $scope.frameData = GLOBAL_FRAME_CONFIG;\r\n    //获取登出路径\r\n    var strPath = GM.LayoutOper.getURLWithoutParams($location.absUrl());\r\n    $scope.frameData.loginUrl = LOGIN_PATH + '?service=' + strPath + '&logout=1';\r\n    $scope.frameData.indexUrl = MAIN_PAGE_PATH;\r\n    $scope.naviData = GLOBAL_FRAME_CONFIG.navi;\r\n    $scope.naviHide = false; //是否隐藏大导航框\r\n    $scope.activeChildItem = null; //处于焦点的二级子节点\r\n    $scope.threeNaviHide = true; //三级菜单是否隐藏\r\n    $scope.fullScreen = $cookies.getObject('fullScreen');\r\n    $scope.bMenuShow = false; //在全屏模式下时候显示菜单\r\n    $scope.themeName = $cookies.get('themeName') || 'blue'; //系统主题\r\n    $scope.tabWrapper = true; //开启标签模式\r\n    var $pGmTable = new $gmTable();\r\n\r\n    //主题切换\r\n    $scope.themeData = {\r\n        blue: {\r\n            name: '蓝色主题',\r\n            color: '#1E5FCA',\r\n            class: 'blue'\r\n        },\r\n        red: {\r\n            name: '红色主题',\r\n            color: '#e01f54',\r\n            class: 'red'\r\n        },\r\n        third: {\r\n            name: '不动产主题',\r\n            color: '#1A82E8',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-estate.css'\r\n        },\r\n        theme1st: {\r\n            name: 'theme1st',\r\n            color: '#25C6DA',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-1st.css'\r\n        },\r\n        theme2nd: {\r\n            name: 'theme2nd',\r\n            color: '#3D4dAd',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-2nd.css'\r\n        },\r\n        theme3rd: {\r\n            name: 'theme3rd',\r\n            color: '#49B04C',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-3rd.css'\r\n        },\r\n        theme4th: {\r\n            name: 'theme4th',\r\n            color: '#66BBF1',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-4th.css'\r\n        },\r\n        theme5th: {\r\n            name: 'theme5th',\r\n            color: '#FDB092',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-5th.css'\r\n        },\r\n        theme6th: {\r\n            name: 'theme6th',\r\n            color: '#FDEECE',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-6th.css'\r\n        },\r\n        theme7th: {\r\n            name: 'theme7th',\r\n            color: '#8E9BBB',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-7th.css'\r\n        },\r\n        theme8th: {\r\n            name: 'theme8th',\r\n            color: '#DCD2ED',\r\n            path: STATIC_RESOURCES_PATH + 'custom/frame/frame2/theme-8th.css'\r\n        }\r\n    };\r\n\r\n    //数据准备\r\n    var pRestful = new $gmRestful();\r\n    GM.FrameManager.prepareData($scope, pRestful);\r\n\r\n    //添加公共接口\r\n    GM.FrameManager.addCommonApi($scope);\r\n\r\n    //添加通知内容\r\n    // GM.FrameManager.addNotify($scope);\r\n\r\n    /**\r\n     * @member NgModule.frame2.frameCtrl\r\n     * @method activeNaviFromPath 使菜单处于焦点\r\n     * @param  {String} strPath 路由地址\r\n     * @param  {Boolean} bReload 是否重新加载页面\r\n     * @author LP\r\n     */\r\n    $scope.activeNaviFromPath = function(strPath, bReload) {\r\n        if (bReload === true) {\r\n            //需要从新加载页面\r\n            $scope.refreshPage(strPath);\r\n        }\r\n        Util.activeNaviFromPath(strPath);\r\n        $scope.goPath(strPath);\r\n    };\r\n\r\n    /**\r\n     * @member NgModule.frame2.frameCtrl\r\n     * @method refreshPage 刷新路由页面\r\n     * @param  {String} strPath 路由地址\r\n     * @author LP\r\n     */\r\n    $scope.refreshPage = function(strPath) {\r\n        var strName = strPath.substr(1);\r\n        var pEle = GM.CommonOper.getArrayEleByAtt($scope.tabData.tabs, 'name', strName);\r\n        if (pEle) {\r\n            var strUrl = GM.LayoutOper.getURLWithoutParams(pEle.url);\r\n            var strTime = (new Date()).getTime();\r\n            strUrl = GM.LayoutOper.addURLParam(strUrl, 'timestamp', strTime);\r\n            pEle.url = strUrl;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @member NgModule.frame2.frameCtrl\r\n     * @method deletePage 删除路由页面\r\n     * @param  {String} strPath 路由地址\r\n     * @return {Boolean} 是否删除成功\r\n     */\r\n    $scope.deletePage = function(strPath) {\r\n        var bRt = false;\r\n        if (!GM.CommonOper.isStrNullOrEmpty(strPath)) {\r\n            var strName = strPath.substr(1);\r\n            var pEle = GM.CommonOper.getArrayEleByAtt($scope.tabData.tabs, 'name', strName);\r\n            if (pEle) {\r\n                GM.CommonOper.removeItemFromArray($scope.tabData.tabs, pEle);\r\n                bRt = true;\r\n            }\r\n        }\r\n        return bRt;\r\n    };\r\n\r\n    /**\r\n     * @member NgModule.frame2.frameCtrl\r\n     * @method goHomePage 返回首页\r\n     * @author LP\r\n     */\r\n    $scope.goHomePage = function() {\r\n        $scope.goPath($scope.frameData.homePage.path);\r\n\r\n        //焦点置空\r\n        var pActiveItem = Util.getActiveChildItem();\r\n        if (pActiveItem != null) {\r\n            pActiveItem.active = false;\r\n        }\r\n        $scope.activeChildItem = null;\r\n    };\r\n\r\n    //设置用户头像\r\n    $scope.userImg = {\r\n        background: 'url(' + require('./img/user.png') + ') no-repeat 0 0 / contain'\r\n    };\r\n\r\n    //函数定义\r\n    var Util = {\r\n        //获取处于焦点的二级子节点\r\n        getActiveChildItem: function() {\r\n            var pNaviData = $scope.naviData;\r\n            for (var ii = 0; ii < pNaviData.length; ii++) {\r\n                var oneItem = pNaviData[ii];\r\n                for (var jj = 0; jj < oneItem.children.length; jj++) {\r\n                    var twoItem = oneItem.children[jj];\r\n                    if (twoItem.active === true) {\r\n                        return twoItem;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        //根据路由路径激活不同的导航项\r\n        activeNaviFromPath: function(strPath) {\r\n            Util.initNaviData();\r\n            var pNaviData = $scope.naviData;\r\n            for (var ii = 0; ii < pNaviData.length; ii++) {\r\n                var oneItem = pNaviData[ii];\r\n                for (var jj = 0; jj < oneItem.children.length; jj++) {\r\n                    var twoItem = oneItem.children[jj];\r\n                    if (twoItem.path === strPath) {\r\n                        twoItem.active = true;\r\n                        oneItem.down = true;\r\n                        $scope.activeChildItem = twoItem;\r\n                        return;\r\n                    }\r\n                    if (twoItem.children) {\r\n                        for (var kk = 0; kk < twoItem.children.length; kk++) {\r\n                            var threeItem = twoItem.children[kk];\r\n                            if (threeItem.path === strPath) {\r\n                                threeItem.active = true;\r\n                                twoItem.active = true;\r\n                                oneItem.down = true;\r\n                                $scope.threeNaviHide = false;\r\n                                $scope.activeChildItem = twoItem;\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        //初始化导航数据\r\n        initNaviData: function() {\r\n            var pNaviData = $scope.naviData;\r\n            for (var ii = 0; ii < pNaviData.length; ii++) {\r\n                var oneItem = pNaviData[ii];\r\n                oneItem.down = false;\r\n                for (var jj = 0; jj < oneItem.children.length; jj++) {\r\n                    var twoItem = oneItem.children[jj];\r\n                    twoItem.active = false;\r\n                    if (twoItem.children) {\r\n                        for (var kk = 0; kk < twoItem.children.length; kk++) {\r\n                            var threeItem = twoItem.children[kk];\r\n                            threeItem.active = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        setTheme: function(strThemeName) {\r\n            for (var key in $scope.themeData) {\r\n                $('html').removeClass(key);\r\n            }\r\n            $('html').addClass(strThemeName);\r\n        }\r\n    };\r\n\r\n    if ($scope.tabWrapper === false) {\r\n        //url中如果有path则按照path重新激活导航\r\n        Util.activeNaviFromPath($location.path());\r\n    }\r\n\r\n    $scope.$on('$locationChangeSuccess', function(angularEvent, newUrl, oldUrl) {\r\n        Util.activeNaviFromPath($location.path());\r\n    });\r\n\r\n    $scope.logout = function($event) {\r\n        GM.FrameManager.logout();\r\n        $event.preventDefault();\r\n    };\r\n\r\n    //设置导航模式\r\n    $scope.setNaviMode = function() {\r\n        $scope.naviHide = !$scope.naviHide;\r\n    };\r\n\r\n    //导航条父级节点点击事件\r\n    $scope.clickParentItem = function(parentItem) {\r\n        var bDown = !parentItem.down;\r\n        var pNaviData = $scope.naviData;\r\n\r\n        for (var ii = 0; ii < pNaviData.length; ii++) {\r\n            if (!angular.equals(pNaviData[ii], parentItem)) {\r\n                pNaviData[ii].down = false;\r\n            }\r\n        }\r\n        parentItem.down = bDown;\r\n    };\r\n\r\n    //导航条子级节点击事件\r\n    $scope.clickChildItem = function(childItem) {\r\n        //设置焦点节点\r\n        var pNaviData = $scope.naviData;\r\n        for (var ii = 0; ii < pNaviData.length; ii++) {\r\n            var oneItem = pNaviData[ii];\r\n            for (var jj = 0; jj < oneItem.children.length; jj++) {\r\n                var twoItem = oneItem.children[jj];\r\n                twoItem.active = false;\r\n            }\r\n        }\r\n        childItem.active = true;\r\n        $scope.activeChildItem = childItem;\r\n        $scope.goPath(childItem.path);\r\n    };\r\n\r\n    //通过事件路由到具体页面\r\n    $scope.goPathFromFrame = function(event) {\r\n        if (event != null) {\r\n            var strPath = event.target.getAttribute('path');\r\n            $scope.goPath(strPath, true);\r\n        }\r\n    };\r\n\r\n    //路由到具体页面\r\n    $scope.goPath = function(strPath, bActiveItem) {\r\n        bActiveItem = bActiveItem == null ? false : bActiveItem;\r\n        if (strPath != null && strPath !== '') {\r\n            //处理导航条焦点\r\n            if (bActiveItem === true) {\r\n                Util.activeNaviFromPath(strPath);\r\n            }\r\n            if ($scope.tabWrapper === true) {\r\n                //标签模式\r\n                var strTabName = strPath.substr(1);\r\n                var pTabItem = GM.CommonOper.getArrayEleByAtt($scope.tabData.tabs, 'name', strTabName);\r\n                if (pTabItem != null) {\r\n                    //已经存在，则焦点之\r\n                } else {\r\n                    //不存在，则添加之\r\n                    $scope.tabData.tabs.push({\r\n                        name: strTabName,\r\n                        caption: $scope.activeChildItem.name,\r\n                        url: $scope.activeChildItem.templateUrl\r\n                    });\r\n                }\r\n                $scope.tabData.focusTab = strTabName;\r\n            } else {\r\n                //路由模式\r\n                $location.path(strPath).replace();\r\n            }\r\n        }\r\n    };\r\n\r\n    //全图\r\n    $scope.setFullScreen = function() {\r\n        $scope.fullScreen = !$scope.fullScreen;\r\n        $cookies.put('fullScreen', $scope.fullScreen);\r\n\r\n        //设置样式\r\n    };\r\n\r\n    //设置菜单是否可见\r\n    $scope.showMenu = function() {\r\n        $scope.bMenuShow = !$scope.bMenuShow;\r\n    };\r\n\r\n    //修改主题\r\n    $scope.changeTheme = function(strThemeName) {\r\n        $scope.themeName = strThemeName;\r\n        $cookies.put('themeName', $scope.themeName);\r\n        Util.setTheme($scope.themeName);\r\n        // require(['css!' + $scope.themeData[$scope.themeName].path + '?' + (new Date()).getTime()]);\r\n    };\r\n    Util.setTheme($scope.themeName);\r\n    //---------------tab模式---------------\r\n    $scope.tabData = {\r\n        tabs: [],\r\n        focusTab: '',\r\n        clickTab: 'clickTab'\r\n    };\r\n    //选择主菜单\r\n    $scope.$watch('tabData.focusTab', function() {\r\n        $pGmTable.updateSize();\r\n    });\r\n\r\n    if ($scope.frameData.homePage) {\r\n        var strPermission = $scope.frameData.homePage.permission;\r\n        if (strPermission != null && $scope.hasPermission(strPermission) === false) {\r\n            //没有首页权限\r\n        } else {\r\n            var strTabName = $scope.frameData.homePage.path.substr(1);\r\n            $scope.tabData.tabs.push({\r\n                name: strTabName,\r\n                caption: $scope.frameData.homePage.name,\r\n                url: $scope.frameData.homePage.templateUrl\r\n            });\r\n            $scope.tabData.focusTab = strTabName;\r\n        }\r\n    }\r\n\r\n    //默认展示标签\r\n    if ($scope.defaultViewTabs) {\r\n        for (var ii = 0; ii < $scope.defaultViewTabs.length; ii++) {\r\n            $scope.activeNaviFromPath($scope.defaultViewTabs[ii]);\r\n        }\r\n    }\r\n\r\n    //跳转到待办箱\r\n    $scope.goPending = function() {\r\n        //删除当前标签页\r\n        $scope.deletePage('/' + $scope.tabData.focusTab);\r\n\r\n        //焦点待办箱\r\n        $scope.activeNaviFromPath('/agency', true);\r\n    };\r\n    //---------------查询表单---------------\r\n}]);\r\n\r\n//验证token\r\nGM.FrameManager.addToken(frameApp);\r\n\r\n//模板申明\r\nframeApp.run(['$templateCache', function($templateCache) {\r\n    $templateCache.put('frame.tpl.html', frameTem);\r\n}]);\n\n\n// WEBPACK FOOTER //\n// ./src/custom/frame/frame2/frame.js","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAARVBMVEX///88gv87gf+00//3+v9Cif9Plv/9/v/p8v/I3//w9v9np/98s//R5P+UwP/b6v9Zn//i7v9Hjv+ly/9vrP+Huf/A2v9EXJZaAAABdklEQVR4Xu2WSbKDMBBDkWxmMg/3P+ovUKn8d5BmayUmlYVfpG7cpDmrqqqqqinNz/Z+fZyC5IUA19WdAOUnSRAAiG+U0nfYGNR7CGJGUAgFewcxM0iCIpHoY5lUFGqBwVQZDrWJuIQwEwQhwVUYgxgKJAiCmOxELvKtCaktNd5wU4hygfaTFGcJYwDQKHxCmAHQdlKcFML0AAojfqheIsgQ2IXnBFRlYW7hSbFQFAJdbsLKcCLIS1CLEhFtc0YjqVTXU5iHzGgSx/WFmsXPKTNQJpApDOlf3BC6vGMdz6ktB0FlHn42cpm1VVZ8urqUf4Gk1lHgoeWpvBy2NLakKWSBiMh5OmRlBkBvF0gvGnrkYJSigE5ib+KwPfRYoTkkvOTN5X7sYpL2yAu9lw4q/msXc3draI5LVHi47w9gI2wGMmGU1O9gBgFsyKtclHk48tfIv+9WuUnl+7iDucI7SqOMKB3E3hTrnKXQnOu/zZ8fNlVVVVV/tb4Is6ZkZ9gAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/custom/frame/frame2/img/user.png\n// module id = ./src/custom/frame/frame2/img/user.png\n// module chunks = frame2","module.exports = base;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"base\"\n// module id = dll-reference base\n// module chunks = frame2 frame3 center1 center2 center3 login1 login2","module.exports = ngs;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ngs\"\n// module id = dll-reference ngs\n// module chunks = frame2 frame3 center1 center2 center3 login1 login2","module.exports = ngui;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ngui\"\n// module id = dll-reference ngui\n// module chunks = frame2 frame3 center1 center2 center3 login1 login2"],"sourceRoot":""}