webpackJsonp(["frame3"],{"./src/custom/frame/frame3/frame.html":function(e,n){e.exports='<div ng-controller="frameCtrl" class="frame3">\r\n    <header class="frame3-header" ng-class="{\'full-screen\':fullScreen}">\r\n        <div class="system-info">\r\n            <div class="logo"><img src="{{frameData.logo}}" /></div>\r\n            <div class="system-name">\r\n                <div ng-bind="frameData.systemName"></div>\r\n                <div ng-bind="frameData.systemEnglishName"></div>\r\n            </div>\r\n        </div>\r\n        <div class="main-menu">\r\n            <div gm-tabs tabdata="menuTagData" show-close="false"></div>\r\n        </div>\r\n        <div class="user-info">\r\n            <div class="btn-group">\r\n                <div class="user-img">\r\n                    <div ng-style="userImg"></div>\r\n                </div>\r\n                <div class="dropdown-toggle" data-toggle="dropdown"> <span class="text-nowrap">{{user.caption}}</span> <span class="icon icon-chevron-down"></span> </div>\r\n                <ul class="dropdown-menu" role="menu">\r\n                    <li><a ng-click="logout($event)">退出登录</a></li>\r\n                    <li><a ng-href="{{frameData.indexUrl}}">返回主页面</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </header>\r\n    <div class="frame-content">\r\n        <div class="menu scrollbar-hover un-select" ng-class="{\'full-screen\':fullScreen,hidden1:fullScreen && !bMenuShow}" ng-if="focusMenu.children && focusMenu.children.length > 0">\r\n            <nav>\r\n                <div class="menu-item" ng-class="{\'active\':pItem.name === focusSubMenu.name}" ng-repeat="pItem in focusMenu.children" ng-click="clickChildItem(pItem);"> <i ng-if="!pItem.img" class="icon icon-folder-close" ng-class="pItem.class"></i> <img class="nav-icon" ng-if="pItem.img" ng-src="{{pItem.img}}"> <span class="title text-nowrap" ng-bind="pItem.name"></span>\r\n                    <div class="menu-arrow" ng-show="focusSubMenu.map == true && focusSubMenu.templateUrl != null && showMapMenuPanel == true"></div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n        <div class="content">\r\n            <div ui-view style="height: 100%" ng-show="!focusSubMenu.map"></div>\r\n            <div class="map-content" ng-show="focusSubMenu.map">\r\n                <div class="map-content-left" ng-class="{\'show\':focusSubMenu.templateUrl != null && showMapMenuPanel == true}">\r\n                    <div ng-repeat="pItem in mapMenuItems" ng-if="pItem.templateUrl" ng-show="focusSubMenu.name === pItem.name">\r\n                        <div ng-include="pItem.templateUrl"></div>\r\n                    </div>\r\n                </div>\r\n                <div class="map-content-right" ng-include="mapUrl"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <footer> </footer>\r\n</div>'},"./src/custom/frame/frame3/frame.js":function(e,n,a){"use strict";a("./src/custom/frame/frame.js"),a("./src/custom/frame/frame3/frame.less");var r=a("./src/custom/frame/frame3/frame.html"),s=angular.module("frameApp",["ui.router","ngAnimate","gm.ngCustom.control","ngResource","ngSanitize","ngCookies"]);GM.FrameManager.configModule(s),s.controller("frameCtrl",["$scope","$location","$gmRestful","$cookies","$state",function(e,n,a,r,s){var t;e.frameData=GLOBAL_FRAME_CONFIG;var u=GM.LayoutOper.getURLWithoutParams(n.absUrl());for(e.frameData.loginUrl=LOGIN_PATH+"?service="+u+"&logout=1",e.frameData.indexUrl=MAIN_PAGE_PATH,e.naviHide=!1,e.activeChildItem=null,e.threeNaviHide=!0,e.fullScreen=r.getObject("fullScreen"),e.bMenuShow=!1,e.themeName=r.get("themeName"),e.themeName=null==e.themeName?"blue":e.themeName,e.mapMenuItems=[],e.showMapMenuPanel=!0,e.menuTagData={focusTab:"",tabs:[],nTabWidth:130,showIcon:!0,clickTab:"clickTab"},t=0;t<GLOBAL_FRAME_CONFIG.navi.length;t++){var i=GLOBAL_FRAME_CONFIG.navi[t],l=GM.FrameManager.hasPermission(i.permission);if(!0===l){var c=i;if(c.name=i.name,c.caption=i.name,e.menuTagData.tabs.push(c),i.map&&e.mapMenuItems.push(c),c.children){for(var o=[],m=0;m<c.children.length;m++){var f=c.children[m];(l=GM.FrameManager.hasPermission(f.permission))&&(o.push(f),f.map&&e.mapMenuItems.push(f))}c.children=o}}}var d=new a;GM.FrameManager.prepareData(e,d),GM.FrameManager.addCommonApi(e),e.back=function(){e.showMapMenuPanel=!1},e.userImg={background:"url("+STATIC_RESOURCES_PATH+"custom/frame/frame3/img/user.png) no-repeat 0 0 / contain"};var g=function(n){for(var a=e.menuTagData.tabs,r=0;r<a.length;r++){var s=a[r];if(s.path===n){e.focusMenu=s,e.focusSubMenu=s,e.menuTagData.focusTab=s.name;break}if(s.children)for(var t=0;t<s.children.length;t++){var u=s.children[t];if(u.path===n)return e.focusMenu=s,e.focusSubMenu=u,void(e.menuTagData.focusTab=s.name)}}};if(e.$on("$locationChangeSuccess",function(e,a,r){g(n.path())}),e.logout=function(e){GM.FrameManager.logout(),e.preventDefault()},e.activeNaviFromPath=function(n){g(n),e.goPath(n)},e.refreshPage=function(e){var n=e.substr(1);s.reload(n)},e.setNaviMode=function(){e.naviHide=!e.naviHide},e.clickTab=function(n){e.focusMenu=n,null==e.focusMenu.children||0===e.focusMenu.children.length?(e.focusSubMenu=e.focusMenu,!0!==e.focusSubMenu.map?e.goPath(e.focusSubMenu.path):(e.$broadcast("clickMenu",e.focusSubMenu),e.showMapMenuPanel=!0)):e.clickChildItem(e.focusMenu.children[0])},e.clickChildItem=function(n){e.focusSubMenu=n,!0!==e.focusSubMenu.map?e.goPath(e.focusSubMenu.path):(e.showMapMenuPanel=!0,e.$broadcast("clickMenu",e.focusSubMenu))},e.goPathFromFrame=function(n){if(null!=n){var a=n.target.getAttribute("path");e.goPath(a,!0)}},e.goPath=function(e,a){if(a=null!=a&&a,null!=e&&""!==e)if(!0===a&&g(e),n.path()!==e||GM.CommonOper.isStrNullOrEmpty(e))n.path(e).replace();else{var r=e.substr(1);GM.CommonOper.isStrNullOrEmpty(r)||s.reload(r)}},e.setFullScreen=function(){e.fullScreen=!e.fullScreen,r.put("fullScreen",e.fullScreen)},e.showMenu=function(){e.bMenuShow=!e.bMenuShow},e.defaultViewTabs)for(t=0;t<e.defaultViewTabs.length;t++)e.activeNaviFromPath(e.defaultViewTabs[t]);g(n.path())}]),GM.FrameManager.addToken(s),s.run(["$templateCache",function(e){e.put("frame.tpl.html",r)}])},"./src/custom/frame/frame3/frame.less":function(e,n){},"dll-reference base":function(e,n){e.exports=base},"dll-reference ngs":function(e,n){e.exports=ngs},"dll-reference ngui":function(e,n){e.exports=ngui}},["./src/custom/frame/frame3/frame.js"]);
//# sourceMappingURL=frame3-dd3ba.bundle.js.map