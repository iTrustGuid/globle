webpackJsonp(["center3"],{"./src/custom/system-center/center3/system-center.html":function(t,e){t.exports='<div ng-controller="systemCenterCtrl">\r\n\t<div id="myBanner" ng-controller="bannerCtrl">\r\n\t\t<img class="backImg" ng-src="{{backgoundImg}}"/>\r\n\t\t<div class="title">\r\n\t\t\t<div class="logBox">\r\n\t\t\t\t<img ng-src="{{logImg}}"/>\r\n\t\t\t</div>\r\n\t\t\t<div class="titleText">\r\n\t\t\t\t<p ng-bind="systemName"></p>\r\n\t\t\t\t<p ng-bind="EnglishSystemName"></p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="logOut" ng-init="userHide = true" ng-mouseover="userHide = false" ng-mouseleave="userHide = true">\r\n\t\t\t<div><img class="userImg" ng-style="{{user.avatar}}" /><span class="userName" ng-bind="user.caption"></span><i class="icon icon-chevron-down"></i></div>\r\n\t\t\t<ul class="message" ng-hide="userHide">\r\n\t\t\t\t<li><a ng-click="logout($event)" style="color: #fff;">退出登录</a></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n\t<div id="metroBox" ng-controller="metroBoxCtrl">\r\n\t\t<div class="subBox" ng-repeat="list in metroBoxList track by $index" title="{{list.title}}" ng-class="{width2:list.width==2,width3:list.width==3,width4:list.width==4,height2:list.height==2,height3:list.height==3,disabled:list.className==\\\'disable\\\'}">\r\n\t\t\t<a ng-click="goSubsystem(list,$event,$index)">\r\n\t\t\t\t<div class="imgBox">\r\n\t\t\t\t\t<img ng-src="{{list.img}}"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="txtBox">\r\n\t\t\t\t\t<span ng-bind="list.txt"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n\t<footer ng-controller="footerCtrl" ng-bind="Copyright"></footer>\r\n\t<div ng-controller="boxCtrl" class="box" ng-class="{\\\'open\\\':moreOpen==\\\'open\\\'}">\r\n\t\t<span class="close" ng-click="moreClose();"></span>\r\n\t\t<div id="moreMetroBox">\r\n\t\t\t<div class="subBox" ng-repeat="list in moreMetroBoxList track by $index" title="{{list.title}}" ng-class="{width2:list.width==2,width3:list.width==3,width4:list.width==4,height2:list.height==2,height3:list.height==3,disabled:list.className==\\\'disable\\\'}">\r\n\t\t\t\t<a ng-click="goSubsystem(list,$event,$index)">\r\n\t\t\t\t\t<div class="imgBox">\r\n\t\t\t\t\t\t<img ng-src="{{list.img}}"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="txtBox">\r\n\t\t\t\t\t\t<span ng-bind="list.txt"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n'},"./src/custom/system-center/center3/system-center.js":function(t,e,r){"use strict";r("./src/custom/frame/frame.js"),r("./src/custom/system-center/center-common.js"),r("./src/custom/system-center/center3/system-center.less");var n=angular.module("systemCenterApp",["gm.ngCustom.control","ngResource"]);n.controller("systemCenterCtrl",["$scope","$gmRestful",function(t,e){var r=new e;GM.FrameManager.prepareData(t,r);for(var n=[],s=0;s<GM.AppInfos.length;s++){var i=GM.AppInfos[s],o={img:i.icon,url:i.host,txt:i.title,title:i.title,width:1,height:1,permission:i.name};GLOBAL_INDEX_CONFIG.metroBoxList&&GLOBAL_INDEX_CONFIG.metroBoxList[s]&&(o.width=GLOBAL_INDEX_CONFIG.metroBoxList[s].width,o.height=GLOBAL_INDEX_CONFIG.metroBoxList[s].height,GLOBAL_INDEX_CONFIG.metroBoxList[s].url&&(o.url=GLOBAL_INDEX_CONFIG.metroBoxList[s].url)),n.push(o)}var l=GM.CenterCommon.getPermissionList(n);for(var c in l)n[l[c]].className="disable",n[l[c]].title="无此系统权限";GLOBAL_INDEX_CONFIG.metroBoxList=n}]),n.controller("bannerCtrl",["$scope",function(t){t.backgoundImg=GLOBAL_INDEX_CONFIG.backgoundImg,t.logImg=GLOBAL_INDEX_CONFIG.logImg,t.systemName=GLOBAL_INDEX_CONFIG.systemName,t.EnglishSystemName=GLOBAL_INDEX_CONFIG.EnglishSystemName,t.user&&(t.user.avatar="syscenter/img/touxiang.png",t.user.avatar={background:"url("+STATIC_RESOURCES_PATH+"custom/frame/frame2/img/user.png) no-repeat 0 0 / contain","border-radius":"50px"}),t.logout=function(t){GM.FrameManager.logout(),t.preventDefault()}}]),n.controller("metroBoxCtrl",["$scope","$rootScope",function(t,e){t.metroBoxList=[];var r={img:"syscenter/img/更多3.png",url:"javascript:;",name:"more",txt:"更多"};function n(t,e){for(var r=!1,n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++){if(null==e[n][o])if(s(t,e,n,o))return i(t,e,n,o),r=!0}return r}function s(t,e,r,n){for(var s=!0,i=r;i<r+t.width;i++){if(i>=e.length)return!1;for(var o=n;o<n+t.height;o++){if(o>=e[i].length)return!1;if(null!=e[i][o])return s=!1}}return s}function i(t,e,r,n){for(var s=r;s<r+t.width;s++)for(var i=n;i<n+t.height;i++)e[s][i]=t}!function(){var s,i,o=function(t,e){for(var n=[],s=0;s<t;s++){n[s]=[];for(var i=0;i<e;i++)n[s][i]=null}return n[t-1][e-1]=r,n}(4,3),l=[],c=[],a=GLOBAL_INDEX_CONFIG.metroBoxList;for(s=0;s<a.length;s++){var m=n(i=a[s],o);!0===m||c.push(i)}0===c.length&&(o[3][2]=null);for(s=0;s<3;s++)for(var g=0;g<4;g++)i=o[g][s],-1===l.indexOf(i)&&null!=i&&l.push(i);t.metroBoxList=l,e.moreMetroBoxList=c}(),e.goSubsystem=function(t){if("more"!==t.name)return"disable"!==t.className&&(GM.CenterCommon.openSystem(t.url),!1);e.moreOpen="open"}}]),n.controller("footerCtrl",["$scope",function(t){t.Copyright=GLOBAL_INDEX_CONFIG.Copyright}]),n.controller("boxCtrl",["$scope","$rootScope",function(t,e){e.moreOpen="close",t.moreClose=function(){e.moreOpen="close"}}]),n.run(["$templateCache",function(t){var e=r("./src/custom/system-center/center3/system-center.html");t.put("system-center.tpl.html",e)}]),GM.FrameManager.addToken(n),angular.bootstrap(document,["systemCenterApp"])},"./src/custom/system-center/center3/system-center.less":function(t,e){},"dll-reference base":function(t,e){t.exports=base},"dll-reference ngs":function(t,e){t.exports=ngs},"dll-reference ngui":function(t,e){t.exports=ngui}},["./src/custom/system-center/center3/system-center.js"]);
//# sourceMappingURL=center3-37ff9.bundle.js.map