/*!
 * Name: gt-ui
 * SVNVersion: 1381
 * Date: 2018-04-27
 * Description: 前端框架
 */
webpackJsonp(["frame2","frame0"],{"./src/custom/frame/frame2/frame.html":function(e,a){e.exports='<div ng-controller=frameCtrl class=frame2> <header ng-class="{\'full-screen\':fullScreen}"> <div class=header-up ng-class="{\'full-screen\':fullScreen}"> <div class=system-info> <div class=logo><img src={{frameData.logo}} /></div> <div class=system-name> <div ng-bind=frameData.systemName></div> <div ng-bind=frameData.systemEnglishName></div> </div> </div> <div class=tools> <div class=theme-option> <div style=flex:1></div> <div class=dropdown> <div class=dropdown-toggle data-toggle=dropdown> <span class=text-nowrap>更换主题</span> <span class="icon icon-chevron-down"></span> </div> <ul class=dropdown-menu role=menu> <li ng-repeat="(key,value) in themeData" ng-class="{\'theme-choosed\':key === themeName}"> <a ng-click=changeTheme(key) href=javascript:void(0); data-animation=am-flip-x data-placement=bottom data-title={{value.name}} bs-tooltip> <div class=theme-item ng-style={background:value.color}> <i class="icon icon-check" ng-if="key === themeName"></i> </div> {{value.name}} </a> </li> </ul> </div> </div> </div> <div class=user-info> <div class=btn-group> <div class=user-img> <div ng-style=userImg></div> </div> <div class=dropdown-toggle data-toggle=dropdown> <span class=text-nowrap>{{user.caption}}</span> <span class="icon icon-chevron-down"></span> </div> <ul class=dropdown-menu role=menu> <li><a ng-click=logout($event)>退出登录</a></li> <li><a ng-href={{frameData.indexUrl}}>返回主页面</a></li> <li><a ng-click=changePassword($event)>修改密码</a></li> <li ng-repeat="item in userOpers"> <a href=javascript:void(0); ng-click={{item.click}}()> {{item.caption}} </a> </li> </ul> </div> </div> </div> <div class=header-down> <div class=menu-header ng-class="{\'full-screen\':fullScreen}" ng-click=showMenu()>菜单</div> <div class=tab-header> <div class=tool-tab> <div gm-tabs ng-show=tabWrapper tabdata=tabData show-close=true></div> </div> <div class=tool-item data-animation=am-flip-x data-placement=bottom data-title=全屏 bs-tooltip ng-click=setFullScreen()> <i class=icon ng-class="{\'icon-collapse-full\':fullScreen,\'icon-expand-full\':!fullScreen}"></i> </div> </div> </div> </header> <div class=frame-content> <div class="menu scrollbar-hover" ng-class="{\'full-screen\':fullScreen,hidden1:fullScreen && !bMenuShow}"> <nav> <div class=menu-item ng-if="frameData.homePage != null && hasPermission(frameData.homePage.permission)"> <div class=nav ng-class="" ng-click=clickChildItem(frameData.homePage);> <i ng-if=!frameData.homePage.img class="icon icon-folder-close" ng-class=frameData.homePage.class></i> <img class=nav-icon ng-if=frameData.homePage.img ng-src={{frameData.homePage.img}}> <span class=title ng-bind=frameData.homePage.name></span> </div> </div> <div class=menu-item ng-repeat="oneItem in naviData" ng-if=hasPermission(oneItem.permission)> <div class=nav ng-class="{\'active\':oneItem.down}" data-toggle=tooltip data-placement=right data-original-title={{oneItem.name}} ng-click=clickParentItem(oneItem);> <i ng-if=!oneItem.img class="icon icon-folder-close" ng-class=oneItem.class></i> <img class=nav-icon ng-if=oneItem.img ng-src={{oneItem.img}}> <span class=title ng-bind=oneItem.name></span> <span class="icon icon-chevron-down" ng-class="{\'click-down\':oneItem.down}"></span> </div> <ul class=sub-item ng-if="oneItem.children.length>0" ng-class={hidden1:!oneItem.down}> <li ng-repeat="twoItem in oneItem.children" ng-click=clickChildItem(twoItem) ng-if=hasPermission(twoItem.permission) ng-class={active:twoItem.active}> <div class=subitem-icon> <i ng-if=!twoItem.img class=icon ng-class=twoItem.class></i> <img class=nav-icon ng-if=twoItem.img ng-src={{twoItem.img}}> </div> <div class="subitem-title text-nowrap" ng-bind=twoItem.name> </div> </li> </ul> </div> </nav> </div> <div class=content> <div id=loading-container></div> <div ui-view class=view-content ng-if=!tabWrapper> </div> <div class=view-content ng-if=tabWrapper> <div ng-repeat="item in tabData.tabs" ng-include=item.url ng-show="tabData.focusTab === item.name"></div> </div> </div> </div> <footer> </footer> <div class=hidden> <button id=form_button class=hidden ng-click=goPending()></button> </div> </div>'},"./src/custom/frame/frame2/frame.js":function(e,a,t){"use strict";t("./src/custom/frame/frame.js"),t("./src/custom/frame/frame2/frame.less"),t("./src/custom/frame/frame2/theme-blue.less"),t("./src/custom/frame/frame2/theme-red.less");var n=t("./src/custom/frame/frame2/frame.html"),i=angular.module("frameApp",["ui.router","ngAnimate","gm.ngCustom.control","ngResource","ngSanitize","ngCookies"]);GM.FrameManager.configModule(i),i.controller("frameCtrl",["$scope","$location","$gmRestful","$cookies","$gmTable",function(e,a,n,i,r){e.frameData=GLOBAL_FRAME_CONFIG;var s=GM.LayoutOper.getURLWithoutParams(a.absUrl());e.frameData.loginUrl=LOGIN_PATH+"?service="+s+"&logout=1",e.frameData.indexUrl=MAIN_PAGE_PATH,e.naviData=GLOBAL_FRAME_CONFIG.navi,e.naviHide=!1,e.activeChildItem=null,e.threeNaviHide=!0,e.fullScreen=i.getObject("fullScreen"),e.bMenuShow=!1,e.themeName=i.get("themeName")||"blue",e.tabWrapper=!0;var o=new r;e.themeData={blue:{name:"蓝色主题",color:"#1E5FCA",class:"blue"},red:{name:"红色主题",color:"#e01f54",class:"red"},third:{name:"不动产主题",color:"#1A82E8",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-estate.css"},theme1st:{name:"theme1st",color:"#25C6DA",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-1st.css"},theme2nd:{name:"theme2nd",color:"#3D4dAd",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-2nd.css"},theme3rd:{name:"theme3rd",color:"#49B04C",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-3rd.css"},theme4th:{name:"theme4th",color:"#66BBF1",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-4th.css"},theme5th:{name:"theme5th",color:"#FDB092",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-5th.css"},theme6th:{name:"theme6th",color:"#FDEECE",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-6th.css"},theme7th:{name:"theme7th",color:"#8E9BBB",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-7th.css"},theme8th:{name:"theme8th",color:"#DCD2ED",path:STATIC_RESOURCES_PATH+"custom/frame/frame2/theme-8th.css"}};var m=new n;GM.FrameManager.prepareData(e,m),GM.FrameManager.addCommonApi(e),e.activeNaviFromPath=function(a,t){!0===t&&e.refreshPage(a),l.activeNaviFromPath(a),e.goPath(a)},e.refreshPage=function(a){var t=a.substr(1),n=GM.CommonOper.getArrayEleByAtt(e.tabData.tabs,"name",t);if(n){var i=GM.LayoutOper.getURLWithoutParams(n.url),r=(new Date).getTime();i=GM.LayoutOper.addURLParam(i,"timestamp",r),n.url=i}},e.deletePage=function(a){var t=!1;if(!GM.CommonOper.isStrNullOrEmpty(a)){var n=a.substr(1),i=GM.CommonOper.getArrayEleByAtt(e.tabData.tabs,"name",n);i&&(GM.CommonOper.removeItemFromArray(e.tabData.tabs,i),t=!0)}return t},e.goHomePage=function(){e.goPath(e.frameData.homePage.path);var a=l.getActiveChildItem();null!=a&&(a.active=!1),e.activeChildItem=null},e.userImg={background:"url("+t("./src/custom/frame/frame2/img/user.png")+") no-repeat 0 0 / contain"};var l={getActiveChildItem:function(){for(var a=e.naviData,t=0;t<a.length;t++)for(var n=a[t],i=0;i<n.children.length;i++){var r=n.children[i];if(!0===r.active)return r}},activeNaviFromPath:function(a){l.initNaviData();for(var t=e.naviData,n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.children.length;r++){var s=i.children[r];if(s.path===a)return s.active=!0,i.down=!0,void(e.activeChildItem=s);if(s.children)for(var o=0;o<s.children.length;o++){var m=s.children[o];if(m.path===a)return m.active=!0,s.active=!0,i.down=!0,e.threeNaviHide=!1,void(e.activeChildItem=s)}}},initNaviData:function(){for(var a=e.naviData,t=0;t<a.length;t++){var n=a[t];n.down=!1;for(var i=0;i<n.children.length;i++){var r=n.children[i];if(r.active=!1,r.children)for(var s=0;s<r.children.length;s++){r.children[s].active=!1}}}},setTheme:function(a){for(var t in e.themeData)$("html").removeClass(t);$("html").addClass(a)}};if(!1===e.tabWrapper&&l.activeNaviFromPath(a.path()),e.$on("$locationChangeSuccess",function(e,t,n){l.activeNaviFromPath(a.path())}),e.logout=function(e){GM.FrameManager.logout("0"),e.preventDefault()},e.changePassword=function(e){GM.FrameManager.logout("1"),e.preventDefault()},e.setNaviMode=function(){e.naviHide=!e.naviHide},e.clickParentItem=function(a){for(var t=!a.down,n=e.naviData,i=0;i<n.length;i++)angular.equals(n[i],a)||(n[i].down=!1);a.down=t},e.clickChildItem=function(a){for(var t=e.naviData,n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.children.length;r++){i.children[r].active=!1}a.active=!0,e.activeChildItem=a,e.goPath(a.path)},e.goPathFromFrame=function(a){if(null!=a){var t=a.target.getAttribute("path");e.goPath(t,!0)}},e.goPath=function(t,n){if(n=null!=n&&n,null!=t&&""!==t)if(!0===n&&l.activeNaviFromPath(t),!0===e.tabWrapper){var i=t.substr(1);null!=GM.CommonOper.getArrayEleByAtt(e.tabData.tabs,"name",i)||e.tabData.tabs.push({name:i,caption:e.activeChildItem.name,url:e.activeChildItem.template}),e.tabData.focusTab=i}else a.path(t).replace()},e.setFullScreen=function(){e.fullScreen=!e.fullScreen,i.put("fullScreen",e.fullScreen),e.$broadcast("fullScreen",e.fullScreen),$timeout(function(){null!=window.pMap&&null!=window.pMap.map&&window.pMap.map.updateSize()},100)},e.showMenu=function(){e.bMenuShow=!e.bMenuShow},e.changeTheme=function(a){e.themeName=a,i.put("themeName",e.themeName),l.setTheme(e.themeName)},l.setTheme(e.themeName),e.tabData={tabs:[],focusTab:"",clickTab:"clickTab"},e.$watch("tabData.focusTab",function(){o.updateSize()}),e.frameData.homePage){var c=e.frameData.homePage.permission;if(null!=c&&!1===e.hasPermission(c));else{var d=e.frameData.homePage.path.substr(1);e.tabData.tabs.push({name:d,caption:e.frameData.homePage.name,url:e.frameData.homePage.template}),e.tabData.focusTab=d}}if(e.defaultViewTabs)for(var f=0;f<e.defaultViewTabs.length;f++)e.activeNaviFromPath(e.defaultViewTabs[f]);e.goPending=function(){e.deletePage("/"+e.tabData.focusTab),e.activeNaviFromPath("/agency",!0)}}]),GM.FrameManager.addToken(i),i.run(["$templateCache",function(e){e.put("frame.tpl.html",n)}])},"./src/custom/frame/frame2/frame.less":function(e,a){},"./src/custom/frame/frame2/img/user.png":function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAARVBMVEX///88gv87gf+00//3+v9Cif9Plv/9/v/p8v/I3//w9v9np/98s//R5P+UwP/b6v9Zn//i7v9Hjv+ly/9vrP+Huf/A2v9EXJZaAAABdklEQVR4Xu2WSbKDMBBDkWxmMg/3P+ovUKn8d5BmayUmlYVfpG7cpDmrqqqqqinNz/Z+fZyC5IUA19WdAOUnSRAAiG+U0nfYGNR7CGJGUAgFewcxM0iCIpHoY5lUFGqBwVQZDrWJuIQwEwQhwVUYgxgKJAiCmOxELvKtCaktNd5wU4hygfaTFGcJYwDQKHxCmAHQdlKcFML0AAojfqheIsgQ2IXnBFRlYW7hSbFQFAJdbsLKcCLIS1CLEhFtc0YjqVTXU5iHzGgSx/WFmsXPKTNQJpApDOlf3BC6vGMdz6ktB0FlHn42cpm1VVZ8urqUf4Gk1lHgoeWpvBy2NLakKWSBiMh5OmRlBkBvF0gvGnrkYJSigE5ib+KwPfRYoTkkvOTN5X7sYpL2yAu9lw4q/msXc3draI5LVHi47w9gI2wGMmGU1O9gBgFsyKtclHk48tfIv+9WuUnl+7iDucI7SqOMKB3E3hTrnKXQnOu/zZ8fNlVVVVV/tb4Is6ZkZ9gAAAAASUVORK5CYII="},"./src/custom/frame/frame2/theme-blue.less":function(e,a){},"./src/custom/frame/frame2/theme-red.less":function(e,a){},"dll-reference base":function(e,a){e.exports=base},"dll-reference ngs":function(e,a){e.exports=ngs},"dll-reference ngui":function(e,a){e.exports=ngui}},["./src/custom/frame/frame2/frame.js"]);
//# sourceMappingURL=frame2-94726.bundle.js.map