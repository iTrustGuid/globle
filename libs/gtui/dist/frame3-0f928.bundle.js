/*!
 * Name: gt-ui
 * SVNVersion: 1381
 * Date: 2018-04-27
 * Description: 前端框架
 */
webpackJsonp(["frame3","frame0"],{"./src/custom/frame/frame3/frame.html":function(e,a){e.exports='<div ng-controller=frameCtrl class=frame3> <header class=frame3-header ng-class="{\'full-screen\':fullScreen}"> <div class=system-info> <div class=logo><img src={{frameData.logo}} /></div> <div class=system-name> <div ng-bind=frameData.systemName></div> <div ng-bind=frameData.systemEnglishName></div> </div> </div> <div class=main-menu> <div gm-tabs tabdata=menuTagData show-close=false></div> </div> <div class=user-info> <div class=btn-group> <div class=user-img> <div ng-style=userImg></div> </div> <div class=dropdown-toggle data-toggle=dropdown> <span class=text-nowrap>{{user.caption}}</span> <span class="icon icon-chevron-down"></span> </div> <ul class=dropdown-menu role=menu> <li><a ng-click=logout($event)>退出登录</a></li> <li><a ng-href={{frameData.indexUrl}}>返回主页面</a></li> </ul> </div> </div> </header> <div class=frame-content> <div class="menu scrollbar-hover un-select" ng-class="{\'full-screen\':fullScreen,hidden1:fullScreen && !bMenuShow}" ng-if="focusMenu.children && focusMenu.children.length > 0"> <nav> <div class=menu-item ng-class="{\'active\':pItem.name === focusSubMenu.name}" ng-repeat="pItem in focusMenu.children" ng-click=clickChildItem(pItem);> <i ng-if=!pItem.img class="icon icon-folder-close" ng-class=pItem.class></i> <img class=nav-icon ng-if=pItem.img ng-src={{pItem.img}}> <span class="title text-nowrap" ng-bind=pItem.name></span> <div class=menu-arrow ng-show="focusSubMenu.map == true && focusSubMenu.template != null && showMapMenuPanel == true"></div> </div> </nav> </div> <div class=content> <div ui-view style=height:100% ng-show=!focusSubMenu.map></div> <div class=map-content ng-show=focusSubMenu.map> <div class=map-content-left ng-class="{\'show\':focusSubMenu.template != null && showMapMenuPanel == true}"> <div ng-repeat="pItem in mapMenuItems" ng-if=pItem.template ng-show="focusSubMenu.name === pItem.name"> <div ng-include=pItem.template></div> </div> </div> <div class=map-content-right ng-include=mapUrl></div> </div> </div> </div> <footer> </footer> </div>'},"./src/custom/frame/frame3/frame.js":function(e,a,n){"use strict";n("./src/custom/frame/frame.js"),n("./src/custom/frame/frame3/frame.less");var s=n("./src/custom/frame/frame3/frame.html"),t=angular.module("frameApp",["ui.router","ngAnimate","gm.ngCustom.control","ngResource","ngSanitize","ngCookies"]);GM.FrameManager.configModule(t),t.controller("frameCtrl",["$scope","$location","$gmRestful","$cookies","$state",function(e,a,n,s,t){var u;e.frameData=GLOBAL_FRAME_CONFIG;var r=GM.LayoutOper.getURLWithoutParams(a.absUrl());for(e.frameData.loginUrl=LOGIN_PATH+"?service="+r+"&logout=1",e.frameData.indexUrl=MAIN_PAGE_PATH,e.naviHide=!1,e.activeChildItem=null,e.threeNaviHide=!0,e.fullScreen=s.getObject("fullScreen"),e.bMenuShow=!1,e.themeName=s.get("themeName"),e.themeName=null==e.themeName?"blue":e.themeName,e.mapMenuItems=[],e.showMapMenuPanel=!0,e.menuTagData={focusTab:"",tabs:[],nTabWidth:130,showIcon:!0,clickTab:"clickTab"},u=0;u<GLOBAL_FRAME_CONFIG.navi.length;u++){var i=GLOBAL_FRAME_CONFIG.navi[u],c=GM.FrameManager.hasPermission(i.permission);if(!0===c){var o=i;if(o.name=i.name,o.caption=i.name,e.menuTagData.tabs.push(o),i.map&&e.mapMenuItems.push(o),o.children){for(var l=[],m=0;m<o.children.length;m++){var f=o.children[m];(c=GM.FrameManager.hasPermission(f.permission))&&(l.push(f),f.map&&e.mapMenuItems.push(f))}o.children=l}}}var d=new n;GM.FrameManager.prepareData(e,d),GM.FrameManager.addCommonApi(e),e.back=function(){e.showMapMenuPanel=!1},e.userImg={background:"url("+STATIC_RESOURCES_PATH+"custom/frame/frame3/img/user.png) no-repeat 0 0 / contain"};var g=function(a){for(var n=e.menuTagData.tabs,s=0;s<n.length;s++){var t=n[s];if(t.path===a){e.focusMenu=t,e.focusSubMenu=t,e.menuTagData.focusTab=t.name;break}if(t.children)for(var u=0;u<t.children.length;u++){var r=t.children[u];if(r.path===a)return e.focusMenu=t,e.focusSubMenu=r,void(e.menuTagData.focusTab=t.name)}}};if(e.$on("$locationChangeSuccess",function(e,n,s){g(a.path())}),e.logout=function(e){GM.FrameManager.logout(),e.preventDefault()},e.activeNaviFromPath=function(a){g(a),e.goPath(a)},e.refreshPage=function(e){var a=e.substr(1);t.reload(a)},e.setNaviMode=function(){e.naviHide=!e.naviHide},e.clickTab=function(a){e.focusMenu=a,null==e.focusMenu.children||0===e.focusMenu.children.length?(e.focusSubMenu=e.focusMenu,!0!==e.focusSubMenu.map?e.goPath(e.focusSubMenu.path):(e.$broadcast("clickMenu",e.focusSubMenu),e.showMapMenuPanel=!0)):e.clickChildItem(e.focusMenu.children[0])},e.clickChildItem=function(a){e.focusSubMenu=a,!0!==e.focusSubMenu.map?e.goPath(e.focusSubMenu.path):(e.showMapMenuPanel=!0,e.$broadcast("clickMenu",e.focusSubMenu))},e.goPathFromFrame=function(a){if(null!=a){var n=a.target.getAttribute("path");e.goPath(n,!0)}},e.goPath=function(e,n){if(n=null!=n&&n,null!=e&&""!==e)if(!0===n&&g(e),a.path()!==e||GM.CommonOper.isStrNullOrEmpty(e))a.path(e).replace();else{var s=e.substr(1);GM.CommonOper.isStrNullOrEmpty(s)||t.reload(s)}},e.setFullScreen=function(){e.fullScreen=!e.fullScreen,s.put("fullScreen",e.fullScreen)},e.showMenu=function(){e.bMenuShow=!e.bMenuShow},e.defaultViewTabs)for(u=0;u<e.defaultViewTabs.length;u++)e.activeNaviFromPath(e.defaultViewTabs[u]);g(a.path())}]),GM.FrameManager.addToken(t),t.run(["$templateCache",function(e){e.put("frame.tpl.html",s)}])},"./src/custom/frame/frame3/frame.less":function(e,a){},"dll-reference base":function(e,a){e.exports=base},"dll-reference ngs":function(e,a){e.exports=ngs},"dll-reference ngui":function(e,a){e.exports=ngui}},["./src/custom/frame/frame3/frame.js"]);
//# sourceMappingURL=frame3-0f928.bundle.js.map